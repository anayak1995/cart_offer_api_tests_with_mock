TCID,Description,Endpoint,API Module,Test Type,Test Level,Preconditions,Test Data,Expected Output
TC001,Add FLAT amount offer for segment p1,/api/v1/offer,Setup Offers,UNIT,SANITY,Restaurant 1 exists,"curl -X POST http://localhost:8080/api/v1/offer -H 'Content-Type: application/json' -d '{
  ""restaurant_id"": 1,
  ""offer_type"": ""FLATX"",
  ""offer_value"": 10,
  ""customer_segment"": [""p1""]
}'","{
  ""response_msg"": ""success""
}"
TC002,Add FLAT percentage offer for segment p2,/api/v1/offer,Setup Offers,UNIT,SANITY,Restaurant 1 exists,"curl -X POST http://localhost:8080/api/v1/offer -H 'Content-Type: application/json' -d '{
  ""restaurant_id"": 1,
  ""offer_type"": ""FLATX%"",
  ""offer_value"": 10,
  ""customer_segment"": [""p2""]
}'","{
  ""response_msg"": ""success""
}"
TC003,Add multiple offers for different segments,/api/v1/offer,Setup Offers,UNIT,SANITY,Restaurant 1 exists,"curl -X POST http://localhost:8080/api/v1/offer -H 'Content-Type: application/json' -d '{
  ""restaurant_id"": 1,
  ""offer_type"": ""FLATX"",
  ""offer_value"": 10,
  ""customer_segment"": [""p1"",""p2""]
}'","{
  ""response_msg"": ""success""
}"
TC004,Fetch user segment for valid user id 1,/api/v1/user_segment,Setup Offers,UNIT,SANITY,User 1 exists,curl -X GET http://localhost:8080/api/v1/user_segment?user_id=1,"{
  ""segment"": ""p1""
}"
NTC001,Add offer with invalid restaurant_id,/api/v1/offer,Setup Offers,UNIT,REGRESSION,Restaurant does not exist,"curl -X POST http://localhost:8080/api/v1/offer -H 'Content-Type: application/json' -d '{
  ""restaurant_id"": 999,
  ""offer_type"": ""FLATX"",
  ""offer_value"": 10,
  ""customer_segment"": [""p1""]
}'","{
  ""error_msg"": ""Restaurant not found"",
  ""status"": 404
}"
NTC002,Add offer with invalid offer_type,/api/v1/offer,Setup Offers,UNIT,REGRESSION,Restaurant 1 exists,"curl -X POST http://localhost:8080/api/v1/offer -H 'Content-Type: application/json' -d '{
  ""restaurant_id"": 1,
  ""offer_type"": ""INVALID_TYPE"",
  ""offer_value"": 10,
  ""customer_segment"": [""p1""]
}'","{
  ""error_msg"": ""Invalid offer type"",
  ""status"": 400
}"
NTC003,Fetch user segment for invalid user id,/api/v1/user_segment,Setup Offers,UNIT,REGRESSION,User 999 does not exist,curl -X GET http://localhost:8080/api/v1/user_segment?user_id=999,"{
  ""error_msg"": ""User not found"",
  ""status"": 404
}"
NTC004,Fetch user segment with missing user id,/api/v1/user_segment,Setup Offers,UNIT,REGRESSION,No user_id provided,curl -X GET http://localhost:8080/api/v1/user_segment,"{
  ""error_msg"": ""Missing user_id"",
  ""status"": 400
}"
TC005,Apply FLAT amount offer for segment p1 on cart,/api/v1/cart/apply_offer,Apply Offers on Cart,INTEGRATION,SANITY,User 1 segment p1; Restaurant 1 has FLATX offer,"curl -X POST http://localhost:8080/api/v1/cart/apply_offer -H 'Content-Type: application/json' -d '{
  ""cart_value"": 200,
  ""user_id"": 1,
  ""restaurant_id"": 1
}'","{
  ""cart_value"": 190
}"
TC006,Apply FLAT percentage offer for segment p2 on cart,/api/v1/cart/apply_offer,Apply Offers on Cart,INTEGRATION,SANITY,User 2 segment p2; Restaurant 1 has FLATX% offer,"curl -X POST http://localhost:8080/api/v1/cart/apply_offer -H 'Content-Type: application/json' -d '{
  ""cart_value"": 500,
  ""user_id"": 2,
  ""restaurant_id"": 1
}'","{
  ""cart_value"": 450
}"
...,,,,,,,,
